<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" href="../../index.css" />
	<script src="../../Mentis.js"></script>

	<title>MentisJS</title>
	<style>
		* {
			margin: 0px;
			border: 0px;
		}

		body {
			font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;
		}

		ws {
			white-space: break-spaces;
		}

		.wrapper {
			text-align: center;
			margin-left: 15%;
			width: 70%;
			background-color: rgb(220, 225, 222);
		}

		.canvasWrapper {
			display: flex;
			justify-content: center;
		}

		.showcase {
			align-items: center;
			display: flex;
			width: 100%;
			border: 5px solid black;
			height: 10vh;
		}

		.showcase canvas {
			border: 1px solid black;
			width: 5vh;
			height: 5vh;
			margin-right: 3%;
		}

		h5 {
			width: 30%;
		}

		.wrapper button {
			width: 20%;
			height: auto;
			border: 1px solid black;
			box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
		}

		.showcaseF {
			align-items: center;
			display: flex;
			width: 100%;
			border: 5px solid black;
			height: 10vh;
			background-color: grey;
		}

		.showcaseF canvas {
			border: 1px solid black;
			width: 25vh;
			height: 5vh;
			margin-right: 3%;
		}
	</style>
</head>

<body>
	<div onclick="window.location = '../../index.html'" class="topbar">
		<img src="../../images/logo.png" />
		<h1>MentisJS</h1>
	</div>
	<!-- End of topbar -->
	<div class="showcaseTitle">
		<h1>Mnist digits</h1>
		<!-- <p>ResEmitterLayers with the same ID as ResReceiverLayers will transmit data across layers. The best way to show something though is by example.</p> -->
	</div>
	<div class="wrapper">
		<div class="showcase">
			<canvas id="canvas0" width="140px" height="140px"></canvas>
			<h3 style="margin-right: 3%">Net Output:</h3>
			<span id="zeroout" style="width: 50%; height: 100%"></span>
			<h5 id="zeroc">Correct?</h5>
			<h5 style="margin-left: 3%" id="errzero">Total Error:</h5>
		</div>
		<div class="showcase">
			<canvas id="canvas1" width="140px" height="140px"></canvas>
			<h3 style="margin-right: 3%">Net Output:</h3>
			<span id="oneout" style="width: 50%; height: 100%"></span>
			<h5 id="onec">Correct?</h5>
			<h5 style="margin-left: 3%" id="errone">Total Error:</h5>
		</div>
		<div class="showcase">
			<canvas id="canvas2" width="140px" height="140px"></canvas>
			<h3 style="margin-right: 3%">Net Output:</h3>
			<span id="twoout" style="width: 50%; height: 100%"></span>
			<h5 id="twoc">Correct?</h5>
			<h5 style="margin-left: 3%" id="errtwo">Total Error:</h5>
		</div>
		<div class="showcase">
			<canvas id="canvas3" width="140px" height="140px"></canvas>
			<h3 style="margin-right: 3%">Net Output:</h3>
			<span id="threeout" style="width: 50%; height: 100%"></span>
			<h5 id="threec">Correct?</h5>
			<h5 style="margin-left: 3%" id="errthree">Total Error:</h5>
		</div>
		<div class="showcase">
			<canvas id="canvas4" width="140px" height="140px"></canvas>
			<h3 style="margin-right: 3%">Net Output:</h3>
			<span id="fourout" style="width: 50%; height: 100%"></span>
			<h5 id="fourc">Correct?</h5>
			<h5 style="margin-left: 3%" id="errfour">Total Error:</h5>
		</div>
		<div class="showcase">
			<canvas id="canvas5" width="140px" height="140px"></canvas>
			<h3 style="margin-right: 3%">Net Output:</h3>
			<span id="fiveout" style="width: 50%; height: 100%"></span>
			<h5 id="fivec">Correct?</h5>
			<h5 style="margin-left: 3%" id="errfive">Total Error:</h5>
		</div>
		<div class="showcase">
			<canvas id="canvas6" width="140px" height="140px"></canvas>
			<h3 style="margin-right: 3%">Net Output:</h3>
			<span id="sixout" style="width: 50%; height: 100%"></span>
			<h5 id="sixc">Correct?</h5>
			<h5 style="margin-left: 3%" id="errsix">Total Error:</h5>
		</div>
		<div class="showcase">
			<canvas id="canvas7" width="140px" height="140px"></canvas>
			<h3 style="margin-right: 3%">Net Output:</h3>
			<span id="sevenout" style="width: 50%; height: 100%"></span>
			<h5 id="sevenc">Correct?</h5>
			<h5 style="margin-left: 3%" id="errseven">Total Error:</h5>
		</div>
		<div class="showcase">
			<canvas id="canvas8" width="140px" height="140px"></canvas>
			<h3 style="margin-right: 3%">Net Output:</h3>
			<span id="eightout" style="width: 50%; height: 100%"></span>
			<h5 id="eightc">Correct?</h5>
			<h5 style="margin-left: 3%" id="erreight">Total Error:</h5>
		</div>
		<div class="showcase">
			<canvas id="canvas9" width="140px" height="140px"></canvas>
			<h3 style="margin-right: 3%">Net Output:</h3>
			<span id="nineout" style="width: 50%; height: 100%"></span>
			<h5 id="ninec">Correct?</h5>
			<h5 style="margin-left: 3%" id="errnine">Total Error:</h5>
		</div>

		<div class="showcaseF" style="padding: 5px">
			<h3>Filters:</h3>
			<canvas id="filterCanvas" width="300px" height="60px"></canvas>
			<h3>Filter Grads:</h3>
			<canvas id="filterGCanvas" width="300px" height="60px"></canvas>
			<h3 id="totserr">Total Error:</h3>
		</div>
		<br /><br />
		<div style="float: right">
			<textarea id="textinput" name="input" rows="10" cols="50" style="border: 5px solid black">
var net = new Ment.Net([
		new Ment.Conv([28, 28, 1], [10, 10], 5, 3, 0),
		new Ment.MaxPool([7, 7, 5], [2, 2], 2),
		new Ment.FC(45, 35),
		new Ment.Relu(35),
		new Ment.FC(35, 10),
		new Ment.Relu(10),
]);				

net.learningRate = 0.0001;
               </textarea>
			<br />
			<button onclick="eval.call(window,document.getElementById('textinput').value);">Reload Network</button>
		</div>
		<p id="lr">learning rate: 0.001</p>
		<input type="range" min="0" max="5000" value="250"
			oninput="net.learningRate = this.value/2500;document.getElementById('lr').innerHTML = 'learning rate: ' + net.learningRate;" />
		<p id="es">examples seen: 0</p>
		<button onclick="clearInterval(loop);">Stop</button>
		<button onclick="go();">Go</button><br />
		<button onclick="net = Ment.Net.load(model);">Load pre-trained model</button>
		<br /><br />
		<br /><br />
		<br /><br />
		<br /><br />
		<br /><br />
		<br /><br />
		<h1>Explanation</h1>
		<br>

		<p>
			Here you can see a network train live on some mnist digits. Over time the errors should be approaching 0%.
			It will take about 1 minute to get pretty
			good at the numbers. I
			encourage you to tinker with the code and
			see if you can make a better model for this problem. GG mnist digits your trash kid.
		</p>
		<br /><br />
		<br /><br />
		<br /><br />
		<br /><br />
		<br /><br />
		<br /><br />
	</div>
	<script src="digits.js"></script>
	<script src="model.js"></script>
	<script src="convScript.js"></script>

</html>